'use client';

import React from 'react';

export const FlowerIcon = () => (
  <svg className="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
    <g className="origin-center">
      <circle cx="12" cy="12" r="2" fill="currentColor"/>
      <path d="M12 2C10 2 9 4 9 6C9 7 9.5 8 10.5 8.5C9.5 9 9 10 9 11C9 13 10 14 12 14C14 14 15 13 15 11C15 10 14.5 9 13.5 8.5C14.5 8 15 7 15 6C15 4 14 2 12 2Z" opacity="0.9"/>
      <path d="M6 9C4 9 2 10 2 12C2 14 4 15 6 15C7 15 8 14.5 8.5 13.5C9 14.5 10 15 11 15C13 15 14 14 14 12C14 10 13 9 11 9C10 9 9 9.5 8.5 10.5C8 9.5 7 9 6 9Z" opacity="0.8"/>
      <path d="M18 9C20 9 22 10 22 12C22 14 20 15 18 15C17 15 16 14.5 15.5 13.5C15 14.5 14 15 13 15C11 15 10 14 10 12C10 10 11 9 13 9C14 9 15 9.5 15.5 10.5C16 9.5 17 9 18 9Z" opacity="0.8"/>
      <path d="M12 22C14 22 15 20 15 18C15 17 14.5 16 13.5 15.5C14.5 15 15 14 15 13C15 11 14 10 12 10C10 10 9 11 9 13C9 14 9.5 15 10.5 15.5C9.5 16 9 17 9 18C9 20 10 22 12 22Z" opacity="0.9"/>
    </g>
  </svg>
);

export const LeafIcon = () => (
  <svg className="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
    <path d="M17 8C8 10 5.9 16.17 5.9 16.17C5.9 16.17 10 20 12 20C15 20 20 17 20 12C20 9 19 8 17 8M12 14C11 14 10 13 10 12C10 11 11 10 12 10C13 10 14 11 14 12C14 13 13 14 12 14Z" opacity="0.9"/>
    <path d="M9 7C10.7 7 12.4 7.8 13.5 9.1C14.6 8.4 15.7 8 17 8C15.7 8 14.6 8.4 13.5 9.1C12.4 7.8 10.7 7 9 7Z" opacity="0.6"/>
  </svg>
);

export const TreeIcon = () => (
  <svg className="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
    <path d="M11 21V16H13V21H11Z" opacity="0.7"/>
    <circle cx="12" cy="8" r="6" opacity="0.3"/>
    <circle cx="12" cy="9" r="5" opacity="0.5"/>
    <circle cx="12" cy="10" r="4" opacity="0.7"/>
    <circle cx="12" cy="11" r="3" opacity="0.9"/>
  </svg>
);

export const StarIcon = () => (
  <svg className="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
    <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"/>
    <path d="M12 6L13.5 10L17.5 10.5L14.75 13.25L15.5 17.5L12 15.5L8.5 17.5L9.25 13.25L6.5 10.5L10.5 10L12 6Z" opacity="0.4"/>
  </svg>
);

export const HeartIcon = () => (
  <svg className="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
    <path d="M12 21.35L10.55 20.03C5.4 15.36 2 12.28 2 8.5C2 5.42 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.09C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.42 22 8.5C22 12.28 18.6 15.36 13.45 20.04L12 21.35Z"/>
    <path d="M12 18L10.8 16.95C6.85 13.35 4 10.72 4 8.5C4 6.5 5.5 5 7.5 5C8.76 5 10 5.62 10.74 6.59H13.26C14 5.62 15.24 5 16.5 5C18.5 5 20 6.5 20 8.5C20 10.72 17.15 13.35 13.2 16.95L12 18Z" opacity="0.3"/>
  </svg>
);

export const ButterflyIcon = () => (
  <svg className="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
    <ellipse cx="12" cy="12" rx="1" ry="4" opacity="0.8"/>
    <path d="M8 8C6 8 4 9 4 11C4 13 6 14 8 14C9 14 10 13.5 10.5 12.5C10.5 11.5 10 10 8 8Z" opacity="0.9"/>
    <path d="M16 8C18 8 20 9 20 11C20 13 18 14 16 14C15 14 14 13.5 13.5 12.5C13.5 11.5 14 10 16 8Z" opacity="0.9"/>
    <path d="M8 16C6 16 4 15 4 13C4 11 6 10 8 10C9 10 10 10.5 10.5 11.5C10.5 12.5 10 14 8 16Z" opacity="0.7"/>
    <path d="M16 16C18 16 20 15 20 13C20 11 18 10 16 10C15 10 14 10.5 13.5 11.5C13.5 12.5 14 14 16 16Z" opacity="0.7"/>
    <circle cx="7" cy="10" r="1" opacity="0.5"/>
    <circle cx="17" cy="10" r="1" opacity="0.5"/>
  </svg>
);

export const SunIcon = () => (
  <svg className="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
    <circle cx="12" cy="12" r="5"/>
    <g opacity="0.6">
      <rect x="11" y="1" width="2" height="3" rx="1"/>
      <rect x="11" y="20" width="2" height="3" rx="1"/>
      <rect x="1" y="11" width="3" height="2" ry="1"/>
      <rect x="20" y="11" width="3" height="2" ry="1"/>
      <rect x="4.2" y="4.2" width="2" height="3" rx="1" transform="rotate(-45 5.2 5.7)"/>
      <rect x="17.8" y="17.8" width="2" height="3" rx="1" transform="rotate(-45 18.8 19.3)"/>
      <rect x="4.2" y="17.8" width="2" height="3" rx="1" transform="rotate(45 5.2 19.3)"/>
      <rect x="17.8" y="4.2" width="2" height="3" rx="1" transform="rotate(45 18.8 5.7)"/>
    </g>
    <circle cx="12" cy="12" r="3" opacity="0.3"/>
  </svg>
);


export const CloudIcon = () => (
  <svg className="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
    <ellipse cx="12" cy="14" rx="8" ry="4" opacity="0.3"/>
    <path d="M6.5 20C4.22 20 2.61 18.43 2.61 16.16C2.61 14.21 3.78 12.68 5.68 12.26C6.31 9.96 8.18 8.54 10.55 8.54C12.92 8.54 14.79 9.96 15.42 12.26C17.32 12.68 18.49 14.21 18.49 16.16C18.49 18.43 16.88 20 14.6 20Z"/>
    <circle cx="9" cy="13" r="2.5" opacity="0.2"/>
    <circle cx="14" cy="13" r="2" opacity="0.2"/>
  </svg>
);

export const FishIcon = () => (
  <svg className="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
    <path d="M12 20L12.76 17.64C9.5 17.5 7 16 7.5 12.5C8 9 9.73 7.5 12.76 7.36L12 5L15 2L16 3.5L17 2L20 5L19 9.36C19.25 9.37 20.46 9.44 22 10.28C22 11.5 22 12.5 22 14.72C20.46 15.56 19.25 15.63 19 15.64L20 20L17 23L16 21.5L15 23L12 20Z"/>
    <circle cx="16" cy="9" r="1.5" opacity="0.8"/>
    <g opacity="0.3">
      <circle cx="13" cy="10" r="0.8"/>
      <circle cx="14" cy="12" r="0.8"/>
      <circle cx="13" cy="14" r="0.8"/>
      <circle cx="15" cy="13" r="0.8"/>
    </g>
  </svg>
);


export const DogIcon = () => (
  <svg className="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
    <path d="M18 4C16.29 4 15.25 4.33 14.65 4.61C13.88 4.23 13 4 12 4C11 4 10.12 4.23 9.35 4.61C8.75 4.33 7.71 4 6 4C3 4 1 12 1 14C1 14.83 2.32 15.59 4.14 15.9C4.78 18.14 7.8 19.85 11.5 20V15.72C10.91 15.35 10 14.68 10 14C10 13 12 13 12 13C12 13 14 13 14 14C14 14.68 13.09 15.35 12.5 15.72V20C16.2 19.85 19.22 18.14 19.86 15.9C21.68 15.59 23 14.83 23 14C23 12 21 4 18 4Z" />
  </svg>
);


export const MountainIcon = () => (
  <svg className="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
    <path d="M20 20H4L10 8L14 14L20 20Z" opacity="0.3" />
    <path d="M22 20H2L8 10L12 16L18 6L22 20Z" opacity="0.6" />
    <path d="M21 20H3L7 12L12 18L17 4L21 20Z" />
  </svg>
);

export const CircleIcon = () => (
  <svg className="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
    <circle cx="12" cy="12" r="10" />
    <circle cx="12" cy="12" r="7" opacity="0.3" />
    <circle cx="12" cy="12" r="4" opacity="0.3" />
    <circle cx="12" cy="12" r="2" opacity="0.5" />
  </svg>
);

export const avatarOptions = [
  { id: 'flower', icon: <FlowerIcon />, color: 'bg-linear-to-br from-pink-100 to-rose-100 text-pink-600 hover:from-pink-200 hover:to-rose-200 ring-pink-200', name: 'Bunga' },
  { id: 'leaf', icon: <LeafIcon />, color: 'bg-linear-to-br from-green-100 to-emerald-100 text-green-600 hover:from-green-200 hover:to-emerald-200 ring-green-200', name: 'Daun' },
  { id: 'tree', icon: <TreeIcon />, color: 'bg-linear-to-br from-emerald-100 to-teal-100 text-emerald-600 hover:from-emerald-200 hover:to-teal-200 ring-emerald-200', name: 'Pohon' },
  { id: 'circle', icon: <CircleIcon />, color: 'bg-linear-to-br from-blue-100 to-indigo-100 text-blue-600 hover:from-blue-200 hover:to-indigo-200 ring-blue-200', name: 'Lingkaran' },
  { id: 'star', icon: <StarIcon />, color: 'bg-linear-to-br from-yellow-100 to-amber-100 text-yellow-600 hover:from-yellow-200 hover:to-amber-200 ring-yellow-200', name: 'Bintang' },
  { id: 'heart', icon: <HeartIcon />, color: 'bg-linear-to-br from-red-100 to-pink-100 text-red-600 hover:from-red-200 hover:to-pink-200 ring-red-200', name: 'Hati' },
  { id: 'butterfly', icon: <ButterflyIcon />, color: 'bg-linear-to-br from-purple-100 to-fuchsia-100 text-purple-600 hover:from-purple-200 hover:to-fuchsia-200 ring-purple-200', name: 'Kupu-kupu' },
  { id: 'mountain', icon: <MountainIcon />, color: 'bg-linear-to-br from-gray-100 to-slate-100 text-gray-600 hover:from-gray-200 hover:to-slate-200 ring-gray-200', name: 'Gunung' },
  { id: 'sun', icon: <SunIcon />, color: 'bg-linear-to-br from-orange-100 to-yellow-100 text-orange-600 hover:from-orange-200 hover:to-yellow-200 ring-orange-200', name: 'Matahari' },
  { id: 'fish', icon: <FishIcon />, color: 'bg-linear-to-br from-teal-100 to-cyan-100 text-teal-600 hover:from-teal-200 hover:to-cyan-200 ring-teal-200', name: 'Ikan' },
  { id: 'dog', icon: <DogIcon />, color: 'bg-linear-to-br from-amber-200 to-yellow-200 text-amber-700 hover:from-amber-300 hover:to-yellow-300 ring-amber-200', name: 'Anjing' },
];

interface AvatarSelectorProps {
  value?: string;
  onChange: (value: string) => void;
}

export default function AvatarSelector({ value, onChange }: AvatarSelectorProps) {
  return (
    <div className="bg-white/50 backdrop-blur-sm p-6 rounded-3xl border border-gray-100 shadow-sm">
      <h3 className="text-sm font-bold text-gray-700 mb-4 uppercase tracking-wide opacity-80 text-center">
        Pilih Avatar Kamu
      </h3>
      
      <div className="grid grid-cols-4 sm:grid-cols-6 gap-4">
        {avatarOptions.map((option) => {
          const isSelected = value === option.id;
          return (
            <button
              key={option.id}
              type="button"
              onClick={() => onChange(option.id)}
              className={`
                group relative flex flex-col items-center justify-center p-3 rounded-2xl transition-all duration-300 ease-out
                ${option.color}
                ${isSelected 
                  ? 'ring-4 ring-offset-2 ring-offset-white scale-110 shadow-lg z-10' 
                  : 'hover:scale-110 hover:shadow-md hover:-rotate-2 opacity-80 hover:opacity-100 grayscale-[0.3] hover:grayscale-0'
                }
              `}
              title={option.name}
            >
              <div className={`
                transition-transform duration-500 
                ${isSelected ? 'animate-bounce' : 'group-hover:scale-110'}
              `}>
                {option.icon}
              </div>

              {isSelected && (
                <div className="absolute -top-1 -right-1 w-4 h-4 bg-white rounded-full flex items-center justify-center shadow-sm">
                  <div className="w-2.5 h-2.5 bg-green-500 rounded-full animate-pulse"></div>
                </div>
              )}
            </button>
          );
        })}
      </div>
      
      <p className="text-center text-xs text-gray-400 mt-4 italic">
        Avatar ini akan tampil di profil publik Anda
      </p>
    </div>
  );
}